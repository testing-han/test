name: test secrets

on:
  push:
  workflow_dispatch:

env:
 NAME: "${{ secrets.NAME }}"
 COMs: ${{ vars.COMPANY }}
 
jobs:
  test-job:
    runs-on: ubuntu-latest
    steps:
      - name: print name
        run: echo "$NAME"

      - name: print env
        run: |
          printenv

      - name: test 2
        run: echo "${{ github.event.repository.name }}" >> output.txt

      - name: Upload Artifact
        uses: actions/upload-artifact@v4.1.0
        with:
          name: Upload
          path: output.txt
          
      - name: test 3
        run : echo "The commit is $GITHUB_SHA.zip"

      - name: Test 4
        run : echo "$GITHUB_REF"

  download:
    needs: test-job
    runs-on: ubuntu-latest
    steps:
      - name: Download
        uses: actions/download-artifact@v4.1.0
        with:
          name: Upload
          path: ./Downloaded

      - name: List Downloaded Files
        run: ls -R ./Downloaded

      - name: Print Artifact Content
        run: cat ./Downloaded/output.txt
